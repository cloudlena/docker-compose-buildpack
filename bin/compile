#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir> <env-dir>

set -e

docker_version="1.12.3"
docker_compose_version="1.9.0"

build_dir=$1

function install_docker {
  echo "Installing Docker ${docker_version}"

  curl -L "https://get.docker.com/builds/Linux/x86_64/docker-${docker_version}.tgz" -o "${build_dir}/docker.tgz"

  ls -a ${build_dir}

  tar -xvzf "${build_dir}/docker.tgz"

  "${build_dir}/docker/dockerd" &
}

function install_docker_compose {
  echo "Installing Docker Compose ${docker_compose_version}"

  curl -L "https://github.com/docker/compose/releases/download/${docker_compose_version}/docker-compose-$(uname -s)-$(uname -m)" -o "$1/docker-compose"
}

install_docker
# install_docker_compose
